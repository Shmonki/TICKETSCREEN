<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="vars.css">
  <link rel="stylesheet" href="style.css">

  
  
  <style>
   a,
   button,
   input,
   select,
   h1,
   h2,
   h3,
   h4,
   h5,
   * {
       box-sizing: border-box;
       margin: 0;
       padding: 0;
       border: none;
       text-decoration: none;
       background: none;
   
       -webkit-font-smoothing: antialiased;
   }
   
   menu, ol, ul {
       list-style-type: none;
       margin: 0;
       padding: 0;
   }
   </style>
  <title>Document</title>
</head>
<body>
  <div class="frame-1">
    <div class="frame-1__blankscreen">
      <img class="frame-1__blankscreen2" src="https://cdn.glitch.global/e01bdc14-9dc5-42f2-b393-aa2f0de7a5be/blankscreen1.png" />
    </div>
    <div class="frame-1__fevralyacontainer">
      <div class="frame-1__fevralyacontainer2"></div>
    </div>
    <div class="frame-1___30-container">
      <div class="frame-1___30-container2"></div>
    </div>
    <div class="frame-1__text">
      <div class="frame-1__text2">февраля</div>
    </div>
    <div class="frame-1___30-text">
      <div class="frame-1___30-text2">30</div>
    </div>
    <div class="frame-1__fevralyacontainer3">
      <div class="frame-1__fevralyacontainer2"></div>
    </div>
    <div class="frame-1___29-container">
      <div class="frame-1___29-container2"></div>
    </div>
    <div class="frame-1__text3">
      <div class="frame-1__text4">февраля</div>
    </div>
    <div class="frame-1__station-2-container">
      <div class="frame-1__station-2-container2"></div>
    </div>
    <div class="frame-1___29-text">
      <div class="frame-1___29-text2">29</div>
    </div>
    <div class="frame-1__station-2-text">
      <div class="frame-1__station-2-text2">- Парголово</div>
    </div>
    <div class="frame-1__station-1-container">
      <div class="frame-1__station-1-container2"></div>
    </div>
    <div class="frame-1__text5">
      <div class="frame-1__text6">Финляндский вокзал</div>
    </div>
    <div class="frame-1__price-container">
      <div class="frame-1__price-container2"></div>
    </div>
    <div class="frame-1___48-text">
      <div class="frame-1___48-text2">48</div>
    </div>
    <div class="frame-1__qr-container">
      <div class="frame-1__qr-container2"></div>
    </div>
    <div class="frame-1__drug-container">
      <div class="frame-1__drug-container2"></div>
    </div>
  </div>
  
  
  
  <!-- Внутри тега body обновим блоки вывода -->
<div class="frame-1">
  <!-- ... остальные элементы ... -->

  <!-- Блоки для вывода данных -->
  <div class="frame-1__text5">
    <div class="frame-1__text6" id="output-kuda">Финляндский вокзал</div>
  </div>

  <div class="frame-1__station-2-text">
    <div class="frame-1__station-2-text2" id="output-otkuda">- Парголово</div>
  </div>

  <div class="frame-1___48-text">
    <div class="frame-1___48-text2" id="output-price">48</div>
  </div>
</div>

<script>
// При загрузке страницы
document.addEventListener('DOMContentLoaded', () => {
  const data = JSON.parse(localStorage.getItem('formData'));
  
  if(data) {
    document.getElementById('output-kuda').textContent = data.kuda.toUpperCase();
    document.getElementById('output-otkuda').textContent = `- ${data.otkuda}`;
    document.getElementById('output-price').textContent = data.price;
  }
});
</script>
  
  
  <!-- Для component.html -->
<div class="frame-1__drug-container"
     ontouchstart="handleTouchStart(event)"
     ontouchend="handleTouchEnd(event)"
     onmousedown="handleMouseStart(event)"
     onmouseup="handleMouseEnd(event)">
  <div class="frame-1__drug-container2"></div>
</div>
  
  
  <script>
let startX = 0;
let isDragging = false;
const MIN_SWIPE_DISTANCE = 100; // Минимальная дистанция свайпа

// Для тач-устройств
function handleTouchStart(e) {
  startX = e.touches[0].clientX;
  isDragging = true;
}

function handleTouchEnd(e) {
  if (!isDragging) return;
  const endX = e.changedTouches[0].clientX;
  handleSwipe(endX - startX);
  isDragging = false;
}

// Для десктопов
function handleMouseStart(e) {
  startX = e.clientX;
  isDragging = true;
  document.addEventListener('mousemove', handleMouseMove);
  document.addEventListener('mouseup', handleMouseEnd);
}

function handleMouseMove(e) {
  if (!isDragging) return;
  const currentX = e.clientX;
  handleSwipe(currentX - startX);
}

function handleMouseEnd(e) {
  isDragging = false;
  document.removeEventListener('mousemove', handleMouseMove);
  document.removeEventListener('mouseup', handleMouseEnd);
}

// Общая проверка жеста
function handleSwipe(deltaX) {
  if (deltaX < -MIN_SWIPE_DISTANCE) { // Свайп влево
    window.location.href = 'index.html'; 
  }
}
</script>
  
  
  
  
  <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        #videoContainer {
            width: 365px;
            height: 150px;
            position: relative;
            background: #000;
        }
        
        #videoElement {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .preview {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 1;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body>
    <div id="frame-1__qr-container">
        <video id="qr-video" playsinline muted></video>
        <img id="previewImage" class="preview" alt="Превью">
    </div>

    <script>
        const video = document.getElementById('qr-video');
        const preview = document.getElementById('previewImage');
        let isPlaying = false;
        let videoSource = null;

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Проверка поддержки форматов
                const canPlayMP4 = video.canPlayType('video/mp4');
                const canPlayWebM = video.canPlayType('video/webm');
                
                videoSource = canPlayWebM ? 'video.webm' : 
                             canPlayMP4 ? 'video.mp4' : null;

                if (!videoSource) throw new Error('Форматы не поддерживаются');

                video.src = videoSource;
                
                // Ждем первый кадр для превью
                await new Promise(resolve => {
                    video.addEventListener('loadeddata', () => {
                        capturePreview();
                        resolve();
                    }, { once: true });
                });

            } catch (error) {
                console.error('Ошибка инициализации:', error);
                showStaticPreview();
            }
        });

        // Захват превью
        function capturePreview() {
            const canvas = document.createElement('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            
            const ctx = canvas.getContext('2d');
            ctx.drawImage(video, 0, 0);
            
            preview.src = canvas.toDataURL();
            video.currentTime = 0;
        }

        // Воспроизведение
        async function playVideo() {
            if (isPlaying) return;
            
            try {
                isPlaying = true;
                preview.style.opacity = '0';
                
                await video.play();
                
                video.addEventListener('ended', () => {
                    resetVideoState();
                }, { once: true });

                // Таймаут восстановления
                setTimeout(() => {
                    isPlaying = false;
                    video.load(); // Перезагрузка для освобождения памяти
                }, 1000);

            } catch (error) {
                console.error('Ошибка воспроизведения:', error);
                resetVideoState();
            }
        }

        function resetVideoState() {
            video.currentTime = 0;
            preview.style.opacity = '1';
            isPlaying = false;
        }

        // Фолбэк
        function showStaticPreview() {
            preview.src = 'fallback.jpg';
            video.style.display = 'none';
        }

        // Обработчик клика
        videoContainer.addEventListener('click', () => {
            if (!isPlaying) playVideo();
        });
    </script>
</body>
</html>
  
  
  
  

  
  </body>
  </html>
  
  
  
  
  
  
  